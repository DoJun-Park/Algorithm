```c++
#include <iostream>
#include <fstream>
#include <string>
#include <vector>
#include <algorithm>
#include <utility>
using namespace std;

string str1, str2;
int len_str1, len_str2;
int lcs[505][505];
string LCS_stirng; //최종 LCS문자열
string temp_string; //vector에 추가하기 전 문자열 담아두는 곳
vector<string> vec_string;
vector<pair<int,int>> lcs_pair;
int max_len=0; //lcs최대 길이
string mem_str[505][505];

void read_data(){
    ifstream ifs("gLCS.inp");
    ifs >> str1>>str2;
    ifs.close();
}


void find_lcs(int x, int y,string str){
    mem_str[x][y] = str;
    if(lcs[x][y] == 0){
        if(str.size() != max_len){
            return;
        }
        else{
            vec_string.push_back(str);
            str.clear();
            return ;
        }
    }

    if(lcs[x-1][y-1]+1 == lcs[x][y]){
        if(lcs[x-1][y-1] == 0){
            find_lcs(x-1,y-1,str);
        }
        else{
            if(mem_str[x][y].size() != 0){
                str = mem_str[x][y];
            }
            str = str1[x-1] + str;
            find_lcs(x-1, y-1,str);
        }
    }
    if(lcs[x-1][y-2]+1 == lcs[x][y]){
        if(lcs[x-1][y-2] == 0){
            find_lcs(x-1,y-2,str);
        }
        else{
            if(mem_str[x][y].size() != 0){
                str = mem_str[x][y];
            }
            str = str1[x-1] + str;
            find_lcs(x-1, y-2,str);
        }
    }
    if(lcs[x-2][y-1]+1 == lcs[x][y]){
        if(lcs[x-2][y-1] == 0){
            find_lcs(x-2,y-1,str);
        }
        else{
            if(mem_str[x][y].size() != 0){
                str = mem_str[x][y];
            }
            str = str1[x-2] + str;
            find_lcs(x-2, y-1,str);
        }
    }
    if(lcs[x-2][y-2]+1 == lcs[x][y]){
        if(lcs[x-2][y-2] == 0){
            find_lcs(x-2,y-2,str);
        }
        else{
            if(mem_str[x][y].size() != 0){
                str = mem_str[x][y];
            }
            str = str1[x-2] + str;
            find_lcs(x-2, y-2,str);
        }
    }
}

void gap_LCS(){
    str1 = '0'+ str1;
    str1 = '0'+ str1;
    len_str1 = str1.size();

    str2 = '0'+ str2;
    str2 = '0'+ str2;
    len_str2 = str2.size();


    for(int i=0; i<len_str1; i++){
        for(int j=0; j<len_str2; j++){
            if(str1[i]=='0' || str2[j]=='0'){
                lcs[i][j] = 0;
            }
            else{
                if(str1[i] != str2[j]) lcs[i][j] = 0;

                else{
                    lcs[i][j] = max(lcs[i-1][j-2],lcs[i-2][j-1],lcs[i-2][j-2],lcs[i-1][j-1])+1;
                    if(lcs[i][j]>max_len){
                        max_len = lcs[i][j];
                    }
                }
            }
        }
    }

    // 최대 길이 lcs의 index찾기
    for(int i=0; i<len_str1; i++){
        for(int j=0; j<len_str2; j++){
            if(lcs[i][j] == max_len)
                lcs_pair.push_back(pair<int,int>(i,j));
        }
    }


    while(!lcs_pair.empty()){
        int first = lcs_pair.back().first;
        int second = lcs_pair.back().second;
        temp_string = str1[first];
        find_lcs(first, second, temp_string);
        temp_string.clear();
        lcs_pair.pop_back();
    }

    sort(vec_string.begin(), vec_string.end());
}

void write_data(){
    ofstream ofs("gLCS.out");
    ofs << vec_string[0];
    ofs.close();
}

int main(){
    read_data();
    gap_LCS();
    write_data();
    return 0;
}
```


