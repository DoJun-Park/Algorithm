``` c++
#include <iostream>
#include <fstream>
#include <map>
#include <queue>
#include <bitset>
#include <string>
#include <vector>

using namespace std;

int k;
int bucket[8]; //현재
int bucket_volume[7]; //최종
int bucket_goal[7];  //목표
map<string, int> chk;
bitset<30> bit =0;
string chk_string;
string answer;
int answer_cnt= 0;


void read_data(){
    ifstream ifs("bucket.inp");

    ifs >> k;

    for(int i=0; i<k; ++i){
        ifs >> bucket_volume[i];
     }

    for(int i=0; i<k; ++i){
        ifs >> bucket[i];
     }

    for(int i=0; i<k; ++i){
        ifs >> bucket_goal[i];
        answer += to_string(bucket_goal[i]);

     }


    ifs.close();
}



void solve(){
    queue<vector<int>> que;
     vector<int> v(8);
     vector<int> vec(8);
     vector<int> temp_vec(8);


    string str;
    int temp_cnt=0;
    int temp_buk1,temp_buk2=0;
    int decision=0;



    for(int i=0; i<k; ++i){
        v[i] = bucket[i];
    }

    que.push(v);

    while(!que.empty()){

        vec = que.front();
//        cout << "########새로운 que의 front#########"<< endl;
//        for(int q =0; q<k; ++q){
//            cout << vec[q]<<" ";
//        }
//        cout <<endl;

        que.pop();
//        cout << "vec: " << vec[k]<<endl;



//         for(auto it=chk.begin(); it !=chk.end(); ++it){
//            cout << "key: "<< it->first<< " " << "value: "<< it->second << endl;
//        }


        temp_cnt =vec[k];

        for(int i=0; i<k; ++i){
            for(int j=0; j<k; ++j){ //i->j

                if(i == j || vec[i] == 0) continue;

//                cout << "i : "<<i<< ", j: "<< j<< endl;


                temp_buk1 = vec[i];
                temp_buk2 = vec[j];

//                cout << "vec[i]: "<< vec[i]<< "vec[j]: "<< vec[j]<<endl;


                if(vec[i]+vec[j] > bucket_volume[j]){
                    vec[i] = vec[i]+vec[j] - bucket_volume[j];
                    vec[j] = bucket_volume[j];
                    ++vec[k];
                }

                else{

                    vec[i] = 0;
                    vec[j] = temp_buk1 + temp_buk2;
                    ++vec[k];
                }


//                cout << "count(ver[k]): " << vec[k] <<endl;


                for(int n=0; n<k; ++n){
                    str += to_string(vec[n]);
                }

//                cout << "dd" <<endl;
//                auto it = chk.begin();
//
//                while(it != chk.end()){
//                    if(str.compare(it->first) == 0){
//                        if(vec[k] >= it->second) {
//                            decision = 1;
//                            break;
//                        }
//                        else break;
//
//                    }
//                    else continue;
//                    ++it;
//                }

                for(auto it = chk.begin(); it !=chk.end(); ++it){
                    if(str.compare(it->first) == 0){
                        if(vec[k] >= it->second) {
                            decision = 1;
                            break;
                        }
                        else break;

                    }
                    else continue;
                    ++it;
                }

//                cout << "ee" <<endl;

                if(decision == 1){
                    decision = 0;

                    vec[i] = temp_buk1;
                    vec[j] = temp_buk2;
                    vec[k] = temp_cnt;
                    str = "";
                    continue;
                }


                chk[str] = vec[k];

                if(str.compare(answer) == 0){
//                    cout << "정답과 같아서 들어옴1!" << endl;

                    if(answer_cnt == 0){
//                    cout << "처음 들어오는곳 "<< endl;
                      answer_cnt = vec[k];
//                      cout << "******"<<endl;
                    }
                    else{
                        if(answer_cnt <= vec[k]){
//                            cout << "정답 1 들어오는곳 "<< endl;
                            continue;
                        }
                        else{
//                          cout << "정답2  들어오는곳 "<< endl;
                          answer_cnt = vec[k];
//                          cout << "%%%%%%%%%%"<<endl;
                        }
                    }
                }
//                cout << "=-==========" << endl;
//                cout << "que에 들어가기 전 vec들 :  " <<endl;
//                for(int q =0; q<k; ++q){
//                    cout << vec[q]<<" ";
//                }
//                cout <<endl;


                for(int t=0; t<=k; ++t){
                    temp_vec[t] = vec[t];
                }

                que.push(temp_vec);

//                cout << endl;


//                for(int i=0; i<k; ++i){
//                    cout<< "vec["<<i<<"] "<< vec[i]<<endl;
//                }




                vec[i] = temp_buk1;
                vec[j] = temp_buk2;
                vec[k] = temp_cnt;
                str = "";
            }
        }

    }

//    cout << "answer: " << answer_cnt << endl;

}



void write_data(){
    ofstream ofs("bucket.out");
    ofs<<answer_cnt;
    ofs.close();
}



int main(){
    read_data();
    solve();
    write_data();
}

```
